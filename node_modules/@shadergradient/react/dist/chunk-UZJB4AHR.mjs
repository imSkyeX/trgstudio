import{a as m,b as r}from"./chunk-F3ULA5MU.mjs";import{a}from"./chunk-7RJG5BRD.mjs";import{useEffect as M,useMemo as d}from"react";import*as l from"three";import{useFrame as j}from"@react-three/fiber";import{jsx as y}from"react/jsx-runtime";var w=({animate:T,uniforms:n,vertexShader:E,fragmentShader:g,onInit:f})=>{let i=d(()=>{let c=Object.entries(n),v=n.colors,o=m(v[0]),t=m(v[1]),s=m(v[2]),R={uC1r:{value:r(o==null?void 0:o.r)},uC1g:{value:r(o==null?void 0:o.g)},uC1b:{value:r(o==null?void 0:o.b)},uC2r:{value:r(t==null?void 0:t.r)},uC2g:{value:r(t==null?void 0:t.g)},uC2b:{value:r(t==null?void 0:t.b)},uC3r:{value:r(s==null?void 0:s.r)},uC3g:{value:r(s==null?void 0:s.g)},uC3b:{value:r(s==null?void 0:s.b)}},p=c.reduce((e,[b,D])=>{let H=l.UniformsUtils.clone({[b]:{value:D}});return a(a({},e),H)},{}),u=new l.MeshPhysicalMaterial({userData:p,metalness:.2,side:l.DoubleSide,onBeforeCompile:e=>{e.uniforms=a(a(a({},e.uniforms),p),R),e.vertexShader=E,e.fragmentShader=g}});return c.forEach(([e])=>Object.defineProperty(u,e,{get:()=>u.uniforms[e].value,set:b=>u.uniforms[e].value=b})),f&&f(u),u},[n,E,g,f]);return M(()=>()=>{i.dispose()},[i]),j(({clock:c})=>{T==="on"&&i.userData.uTime&&(i.userData.uTime.value=c.getElapsedTime())}),y("primitive",{attach:"material",object:i})};export{w as a};
